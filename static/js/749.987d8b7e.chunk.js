"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[749],{5749:function(e,s,t){t.r(s),t.d(s,{default:function(){return q}});var n=t(7853),r=t(4531),i=t(8932),o=t(2587),a=t(2791),c=t(364),l=t(9271),u=t(2789),d=t(6139),f=t(704),p=t(5855),h=t(713),x=t(3079),m=t(184),j=(0,x.D)(h.$U),v=(0,f.Z)({form:"PostMessageForm"})((function(e){var s=e.handleSubmit;return(0,m.jsxs)("form",{onSubmit:s,children:[(0,m.jsx)("div",{children:(0,m.jsx)(d.Z,{component:p.Kx,name:"newPostMessage",placeholder:"Enter your message",validate:[x.C,j]})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{type:"submit",children:"Send post"})})]})})),b={},g="Post_PostWrapper__18qHa",_="Post_box1__RSZL-",P="Post_ava__hpmPg",k="Post_box2__DzRAT",I="Post_box3__OxIFQ",y=function(e){var s=e.message,t=e.likesCount;return(0,m.jsxs)("div",{className:g,children:[(0,m.jsx)("div",{className:_,children:(0,m.jsx)("div",{className:P,children:(0,m.jsx)("img",{alt:"avatar",src:"https://mir-s3-cdn-cf.behance.net/project_modules/disp/ce54bf11889067.562541ef7cde4.png"})})}),(0,m.jsx)("div",{className:k,children:s}),(0,m.jsx)("div",{className:I,children:t})]})},S=(0,a.memo)((function(e){var s=e.posts,t=e.addPost,n=s.map((function(e){return(0,m.jsx)(y,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:b.posts,children:n}),(0,m.jsx)(v,{onSubmit:function(e){t(e.newPostMessage)}})]})})),N=t(9650),w=(0,c.$j)((function(e){return{posts:e.profilePage.post}}),{addPost:N.q2})(S),C="Profile_profileWrapper__5JzAw",F=t(3430),Z=t(8691),A={descriptionBlock:"ProfileInfo_descriptionBlock__Vne6W",wrapper:"ProfileInfo_wrapper__ILeOL",description:"ProfileInfo_description__VR90W",ava:"ProfileInfo_ava__9ltgG",img:"ProfileInfo_img__SPRZB",info:"ProfileInfo_info__b2KAc",toggle:"ProfileInfo_toggle__b5OPD",contacts:"ProfileInfo_contacts__zdHWt"},M=function(e){var s=e.status,t=e.updateStatus,n=(0,a.useState)(!1),r=(0,F.Z)(n,2),i=r[0],o=r[1],c=(0,a.useState)(s),l=(0,F.Z)(c,2),u=l[0],d=l[1];(0,a.useEffect)((function(){d(s)}),[s]);return(0,m.jsxs)("div",{children:[!i&&(0,m.jsxs)("div",{style:{marginTop:"20px"},children:[(0,m.jsx)("b",{children:"Status: "}),(0,m.jsx)("span",{onDoubleClick:function(){o(!0)},children:s||"Enter your status"})]}),i&&(0,m.jsx)("div",{style:{marginTop:"20px"},children:(0,m.jsx)("input",{onBlur:function(){o(!1),t(u)},autoFocus:!0,onChange:function(e){d(e.currentTarget.value)},value:u})})]})},O=t(4254),D=t(5273),T=(0,f.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error;return(0,m.jsxs)("form",{onSubmit:s,children:[(0,m.jsx)("div",{children:(0,m.jsx)("button",{type:"submit",children:"save"})}),n&&(0,m.jsx)("div",{className:D.Z.formSummaryError,children:n}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full Name: "}),(0,O.Gr)("Full Name","fullName",[],O.II)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job:"}),(0,O.Gr)("","lookingForAJob",[],O.II,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "}),(0,O.Gr)("My skills","lookingForAJobDescription",[],O.Kx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),(0,O.Gr)("About me","aboutMe",[],O.Kx)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts"}),":"," ",Object.keys(t.contacts).map((function(e){return(0,m.jsx)("div",{className:A.contact,children:(0,m.jsxs)("b",{children:[e,": ",(0,O.Gr)(e,"contacts.".concat(e),[],O.II)]})},e)}))]})]})})),U=function(e){var s=e.contactTitle,t=e.contactValue;return(0,m.jsxs)("div",{className:A.contacts,children:[(0,m.jsx)("b",{children:s}),t]})},E=function(e){var s=e.profile,t=e.isOwner,n=e.goToEditMode;return(0,m.jsxs)("div",{children:[t&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{type:"button",onClick:n,children:"edit"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full Name: "})," ",s.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job:"})," ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "})," ",s.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "})," ",s.aboutMe]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts:"})," ",Object.keys(s.contacts).map((function(e){return(0,m.jsx)(U,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},J=function(e){var s=e.status,t=e.profile,n=e.updateStatus,r=e.isOwner,i=e.savePhoto,o=e.saveProfile,c=(0,a.useState)(!1),l=(0,F.Z)(c,2),u=l[0],d=l[1];if(!t)return(0,m.jsx)(p.p9,{});return(0,m.jsxs)("div",{className:A.wrapper,children:[(0,m.jsx)("div",{className:A.description,children:(0,m.jsxs)("div",{className:A.info,children:[(0,m.jsx)(M,{status:s,updateStatus:n}),u?(0,m.jsx)(T,{initialValues:t,onSubmit:function(e){o(e).then((function(){d(!1)}))},profile:t}):(0,m.jsx)(E,{profile:t,isOwner:r,goToEditMode:function(){return d(!0)}})]})}),(0,m.jsx)("div",{className:A.ava,children:(0,m.jsxs)("div",{className:A.img,children:[r&&(0,m.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&i(e.target.files[0])}}),(0,m.jsx)("img",{alt:"avatar",src:t.photos.large||Z})]})})]})},z=function(e){var s=e.profile,t=e.status,n=e.updateStatus,r=e.isOwner,i=e.savePhoto,o=e.saveProfile;return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)(J,{isOwner:r,profile:s,status:t,updateStatus:n,savePhoto:i,saveProfile:o}),(0,m.jsx)(w,{})]})},G=t(877),R=function(e){return e.profilePage.profile},L=function(e){return e.profilePage.status},V=t(8445),W=function(e){(0,i.Z)(t,e);var s=(0,o.Z)(t);function t(){return(0,n.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props,s=e.match,t=e.authorizedUserId,n=e.history,r=e.getUserProfile,i=e.getStatus,o=+s.params.userId;o||(o=t)||n.push("/login"),o?(r(o),i(o)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"render",value:function(){var e=this.props,s=e.profile,t=e.status,n=e.updateStatus,r=e.match,i=e.savePhoto,o=e.saveProfile;return(0,m.jsx)("div",{children:(0,m.jsx)(z,{profile:s,status:t,updateStatus:n,isOwner:!r.params.userId,savePhoto:i,saveProfile:o})})}}]),t}(a.Component),q=(0,u.qC)((0,c.$j)((function(e){return{profile:R(e),status:L(e),authorizedUserId:(0,V.FD)(e),isAuth:(0,V.Od)(e)}}),{getUserProfile:G.et,getStatus:N.lR,updateStatus:N.Nf,savePhoto:G.Ju,saveProfile:G.Ii}),l.EN)(W)},3079:function(e,s,t){t.d(s,{C:function(){return n},D:function(){return r}});var n=function(e){if(!e)return"Field is required"},r=function(e){return function(s){if(s.length>e)return"Max length is ".concat(e," symbol")}}},8691:function(e,s,t){e.exports=t.p+"static/media/338-3388366_meme-for-steam-avatars-hd-png-download.548c958944dc98415a09.png"}}]);
//# sourceMappingURL=749.987d8b7e.chunk.js.map